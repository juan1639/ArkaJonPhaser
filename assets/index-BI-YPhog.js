var t=Object.defineProperty,e=(e,s,o)=>(((e,s,o)=>{s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o})(e,"symbol"!=typeof s?s+"":s,o),o);import{p as s}from"./phaser-afIBaT_0.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const o=class t{static getCONTROL_KEYBOARD(){return t.CONTROL_KEYBOARD}static getSCALE_GAME(){return t.SCALE_GAME}static getFPS(){return t.FPS}static getFPS_30(){return t.FPS_30}static isNivelSuperado(){return t.pausa.nivelSuperado.activa}static getPuntos(){return t.marcadores.puntos}static getNivel(){return t.marcadores.nivel}static getRecord(){return t.marcadores.hi}static getVidas(){return t.marcadores.vidas}static isInvisible(){return t.jugador.invisible}static setCONTROL_KEYBOARD(e){t.CONTROL_KEYBOARD=e}static setSCALE_GAME(e){t.SCALE_GAME=e}static setFPS_30(e){t.FPS_30=e}static setNivelSuperado(e){t.pausa.nivelSuperado.activa=e}static setPuntos(e){t.marcadores.puntos=e}static setNivel(e){t.marcadores.nivel=e}static setRecord(e){t.marcadores.hi=e}static setVidas(e){t.marcadores.vidas=e}static setInvisible(e){t.jugador.invisible=e}};e(o,"CONTROL_KEYBOARD",!0),e(o,"SCREEN",{WIDTH:1024,HEIGHT:768,SC_BOUNDS_X:1.35,SC_BOUNDS_Y:1.9}),e(o,"TILE_SIZE",{X:64,Y:32}),e(o,"SCALE_GAME",1),e(o,"FPS",60),e(o,"FPS_30",!1),e(o,"marcadores",{puntos:0,nivel:1,hi:7e3,vidas:3}),e(o,"fontSettings",{id:"font-fire",arrayLetras:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.-@",size:48,osX:4,osY:4,oriX:.5,oriY:.5,color:16776960,alpha:.3}),e(o,"pausa",{inicial:{activa:!1,duracion:4300},jugadorDies:{activa:!1,duracion:3100},pausaGenerica:{activa:!1,duracion:500},nivelSuperado:{activa:!1,duracion:3500}}),e(o,"jugador",{INI_X:o.SCREEN.WIDTH/2,INI_Y:o.SCREEN.HEIGHT/1.1,VEL:250}),e(o,"bola",{INI_X:o.SCREEN.WIDTH/2,INI_Y:o.SCREEN.HEIGHT/1.2,VEL_INI_X:600,VEL_INI_Y:-600}),e(o,"CAMERA_CONTROLES",{X:0,Y:o.SCREEN.HEIGHT-256,ANCHO:600,ALTO:400,SCROLL_X:-70,SCROLL_Y:-1080}),e(o,"CAMERA_SCORES",{X:0,Y:0,ANCHO:o.SCREEN.WIDTH,ALTO:34,SCROLL_X:0,SCROLL_Y:-90}),e(o,"depth",{fondo:-500,bola:100,item:200,ladrillos:300,jugador:400,efectos:600,botones:650,marcadores:700,controles:800,textos:900}),e(o,"sombra",{offSetX:9,offSetY:9,decay:.06,power:.9,color:1118481,samples:2,intensidad:.8}),e(o,"audio",{numKey:null,key:null,breakoutMusic:null});let a=o;class i{constructor(t,e){this.relatedScene=t,this.datos=e}create(){const{x:t,y:e,txt:s,size:o,color:a,style:i,stroke:r,sizeStroke:l,shadowOsx:n,shadowOsy:c,shadowColor:h,bool1:d,bool2:g,origin:u,elastic:p,dura:f}=this.datos;this.texto=this.relatedScene.add.text(t,e,s,{fontSize:o+"px",fill:a,fontFamily:"verdana, arial, sans-serif",fontStyle:i}),this.texto.setOrigin(u[0],u[1]),this.texto.setStroke(r,l),this.texto.setShadow(n,c,h,2,d,g),this.elastic(s,p,f),console.log(this.texto)}elastic(t,e,s){s>0&&this.relatedScene.tweens.add({targets:this.texto,y:e,ease:"Elastic",duration:s})}get(){return this.texto}}class r extends s.Scene{constructor(){super("Boot")}init(){this.txt=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:Math.floor(this.sys.game.config.height/2),txt:" Touch screen or \n \n  click to start... ",size:60,color:"#ffa",style:"bold",stroke:"#fb1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0})}preload(){this.load.image("fondo","assets/bg.png")}create(){this.add.image(0,0,"fondo").setOrigin(0,0),this.txt.create(),this.input.on("pointerdown",(()=>this.scene.start("Preloader"))),console.log(this.txt)}}class l{}e(l,"nivel_1",["0000000000000000","0000000000000000","0000060000060000","0000005000500000","0000022222220000","0000222222222000","0002221222122200","0002222222222200","0002222222222200","0000222222222000","0000040000040000","0000033000330000"]);class n{constructor(t,e){this.relatedScene=t,this.args=e}create(){this.muro=this.relatedScene.physics.add.staticGroup();for(let e=0;e<l.nivel_1.length;e++)for(let t=0;t<l.nivel_1[0].length;t++){const s=t*a.TILE_SIZE.X,o=e*a.TILE_SIZE.Y,i=parseInt(l.nivel_1[e][t]);0!==i&&this.muro.create(s,o,"ladrillo-plantilla").setData("valor",i).setDepth(a.depth.ladrillos)}const t=[1118481,12428032,13685460,16728073,2943718,15855904,15658734,2289169,16746503];this.muro.children.iterate((e=>{e.setTint(t[e.getData("valor")])})),console.log(this.muro)}update(){const{offSetX:t,offSetY:e,color:s}=a.sombra;this.relatedScene.graphics.clear(),this.relatedScene.graphics.fillStyle(s,.6),this.muro.children.iterate((t=>{this.relatedScene.graphics.fillRect(t.x,t.y,t.width,t.height)}))}get(){return this.muro}}class c{constructor(t,e){this.relatedScene=t,this.args=e}create(){const{x:t,y:e,vel:s,scX:o,scY:i,orX:r,orY:l}=this.args;this.pala=this.relatedScene.physics.add.sprite(t,e,"pala"),this.pala.setData("vel",s),this.pala.setDepth(a.depth.jugador),this.pala.setScale(o,i).setOrigin(r,l),this.pala.setX(t).setY(e),this.pala.setVelocityX(0).setVelocityY(0),this.pala.setCollideWorldBounds(!0),this.pala.setImmovable(!0),this.pala.setInteractive({draggable:!0}),this.relatedScene.input.on("drag",((t,e,s)=>{e.x=s})),console.log(this.pala)}update(){}get(){return this.pala}}class h{constructor(t,e){this.relatedScene=t,this.args=e}create(){const{x:t,y:e,velX:s,velY:o,scX:i,scY:r,orX:l,orY:n}=this.args;this.bola=this.relatedScene.physics.add.sprite(t,e,"bola"),this.bola.setData("vel-x",s).setData("vel-y",o),this.bola.setDepth(a.depth.bola),this.bola.setScale(i,r).setOrigin(l,n),this.bola.setX(t).setY(e),this.bola.setVelocityX(this.bola.getData("vel-x")),this.bola.setVelocityY(this.bola.getData("vel-y")),this.bola.setBounce(1),this.bola.setCollideWorldBounds(!0),console.log(this.bola)}update(){const{offSetX:t,offSetY:e,color:s}=a.sombra;this.relatedScene.graphics.fillStyle(s,.6),this.relatedScene.graphics.fillCircle(this.bola.x+t,this.bola.y+e,this.bola.width/2)}get(){return this.bola}}class d extends s.Scene{constructor(){super("Game")}init(){this.muro=new n(this,{}),this.pala=new c(this,{x:a.jugador.INI_X,y:a.jugador.INI_Y,vel:a.jugador.VEL,scX:1.2,scY:1.5,orX:.5,orY:.5}),this.bola=new h(this,{x:a.bola.INI_X,y:a.bola.INI_Y,velX:a.bola.VEL_INI_X,velY:a.bola.VEL_INI_Y,scX:1,scY:1,orX:.5,orY:.5})}preload(){}create(){this.physics.world.setBounds(0,0,this.sys.game.config.width,this.sys.game.config.height),this.physics.world.setBoundsCollision(!0,!0,!0,!0),this.add.image(0,0,"fondo-arkanoid").setOrigin(0,0).setDepth(a.depth.fondo),this.graphics=this.add.graphics(),a.audio.breakoutMusic.isPlaying&&a.audio.breakoutMusic.pause(),this.muro.create(),this.pala.create(),this.bola.create()}update(){this.graphics.clear(),this.muro.update(),this.bola.update()}}class g extends s.Scene{constructor(){super("GameOver")}create(){this.add.image(0,0,"fondo-arkanoid").setOrigin(0,0),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}function u(t,e,s){t.volume=s,t.loop=e,t.play()}class p{constructor(t,e){this.relatedScene=t,this.args=e}create(){a.audio.numKey=this.relatedScene.sound.add("numkey");const{left:t,top:e,id:s,scX:o,scY:r,angle:l,originX:n,originY:c,texto:h,nextScene:d}=this.args;this.boton=this.relatedScene.add.sprite(t,e,s).setInteractive(),this.boton.setScale(o,r).setAngle(1).setDepth(a.depth.botones);let g=24;s.includes("settings")&&(g=20),this.txt=new i(this.relatedScene,{x:t,y:e,txt:h,size:g,color:"#ff1",style:"bold",stroke:"#1bd",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0}),this.txt.create(),this.txt.get().setDepth(a.depth.textos).setAlpha(1).setScale(1),this.boton.on("pointerover",(()=>{this.boton.setScale(o+.04,r+.04)})),this.boton.on("pointerout",(()=>{this.boton.setScale(o,r)})),this.boton.on("pointerdown",(t=>{u(a.audio.numKey,!1,.8),this.relatedScene.scene.start(d)})),this.relatedScene.tweens.add({targets:[this.boton,this.txt.get()],angle:359,ease:"Elastic",yoyo:!0,hold:3e3,duration:2e3,repeat:-1})}get(){return this.boton}}class f extends s.Scene{constructor(){super({key:"MainMenu"})}init(){this.botoninicio=new p(this,{left:Math.floor(this.sys.game.config.width/2),top:Math.floor(this.sys.game.config.height/1.25),id:"boton-new-game",scX:.6,scY:.5,angle:1,originX:.5,originY:.5,texto:" New Game ",nextScene:"Game"}),this.txt=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:0,txt:" ArkaJon ",size:110,color:"#ff5",style:"bold",stroke:"#1cb",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:Math.floor(this.sys.game.config.height/4),dura:3e3})}create(){a.audio.breakoutMusic=this.sound.add("breakout-music"),this.add.image(0,0,"fondo-arkanoid").setOrigin(0,0),this.txt.create(),this.txt.get().setDepth(a.depth.textos),this.add.timeline([{at:1800,run:()=>{this.botoninicio.create(),function(t,e,s,o,i,r,l,n,c,h){const d=h.add.particles(t,e,"particula1",{speed:{min:60,max:120},lifespan:{min:2500,max:3e3},scale:{start:.2,end:0},tint:16763921,blendMode:"ADD"});d.setDepth(a.depth.efectos)}(this.sys.game.config.width/2,this.sys.game.config.height/5,0,0,0,0,0,0,0,this)}}]).play(),u(a.audio.breakoutMusic,!1,.7),console.log(this.txt)}}class m extends s.Scene{constructor(){super("Preloader")}init(){const t=this.sys.game.config.width,e=this.sys.game.config.height;this.add.image(0,0,"fondo").setOrigin(0,0),this.txt=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:Math.floor(this.sys.game.config.height/3),txt:" Cargando... ",size:60,color:"#ffa",style:"bold",stroke:"#fb1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0}),this.txt.create(),this.add.rectangle(Math.floor(t/2),Math.floor(e/2),Math.floor(t/1.5),Math.floor(e/12)).setStrokeStyle(1,16772744);const s=this.add.rectangle(Math.floor(t/2)-Math.floor(t/3)+4,Math.floor(e/2),4,Math.floor(e/14),16750865);this.load.on("progress",(e=>{s.width=Math.floor(t/1.52)*e}))}preload(){this.load.setPath("assets"),this.load.image("fondo","/img/bg.png"),this.load.image("fondo-arkanoid","/img/fondo-arkanoid-1024x768.png"),this.load.image("tile-fondo-arkanoid","/img/bg-arkanoid-tile.png"),this.load.image("boton-new-game","/img/ui-newgame.png"),this.load.image("boton-ui-1","/img/ui-1.png"),this.load.spritesheet("boton-fullscreen","/img/boton-fullscreen.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("radio-buttons","/img/radio-buttons-ssheet.png",{frameWidth:50,frameHeight:50}),this.load.image("particula1","/img/particula1.png"),this.load.image("cruceta-controles","/img/cruceta-up.png"),this.load.image("ladrillo-plantilla","/img/ladrillo-plantilla.png"),this.load.image("pala","/img/pala.png"),this.load.image("bola","/img/bola.png"),this.load.audio("key","/audio/key.wav"),this.load.audio("numkey","/audio/numkey.wav"),this.load.audio("breakout-music","/audio/breakout-music.mp3")}create(){this.scene.start("MainMenu")}}const b={type:Phaser.AUTO,width:1024,height:768,parent:"game-container",backgroundColor:"#373737",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!1}},pixelArt:!1,scene:[r,m,f,d,g]};new Phaser.Game(b);
